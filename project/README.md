# Bayesian Statistics exam - Bayesian hierarchical model for football results

This repository contains the content of the project for the Bayesian Statistics course exam.

### Introduction

Being one of the most popular sports in the world, in recent years football data analysis has become an interesting field of study. The aim of this project is to replicate the work of Baio, G., Blangiardo, M. (2010), that propose a Bayesian model for modeling the number of goals scored during a football match. In order to compare the results with the ones of this work, all the analysis has been conducted by using the data about the Italian Serie A championship 1991-1992 (and also 2007-08).

### Presentation

* [project_exam.html](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/project_exam.html): HTML version.
* [project_exam.Rmd](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/project_exam.Rmd): R Markdown version.

### Code files

**R scripts**:

* [data_preparation.R](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/data_preparation.R): script that read `engsoccer` data and pre-process it in order to obtain the dataframes present in the `data` folder
* [eda.R](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/eda.R): script dedicated to the exploratory data analysis.
* [fit.R](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/fit.R): script dedicated to compile `model_1.stan` and `model_2.stan` and fit them over the data present in the `data` folder.
* [posterior_inference.R](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/posterior_inference.R): script dedicated to posterior predictive checks and predictive performance evaluation of Model 1 and Model 2.

**Stan codes**:

* [model_1.stan](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/model_1.stan): code that implement the first model proposed by Baio, G., Blangiardo, M. (2010), that relies on the use of a bivariate independent Poisson distribution and exchangeable attack and defense parameters.
* [model_2.stan](https://github.com/RobertoCorti/Bayesian-Statistics/blob/main/project/model_2.stan): code that implement the second model proposed by Baio, G., Blangiardo, M. (2010), that add to the first model a mixture distribution that takes into account the fact that teams show a different propensity to score and concede goals.

### Structure of the folders

* [data](https://github.com/RobertoCorti/Bayesian-Statistics/tree/main/project/data): folder that stores R data frames  for the results, final ranking, goals statistics and cumulative point list of the Serie A seasons 1991-92 and 2007-08.
* [docs](https://github.com/RobertoCorti/Bayesian-Statistics/tree/main/project/docs) folder containing the original paper  of  Baio, G., Blangiardo, M. (2010).
* [functions](https://github.com/RobertoCorti/Bayesian-Statistics/tree/main/project/functions): utils functions used for creating the final ranking of a championship, the list of cumulative points and the hyperparameters for the Dirichlet distribution used in Model 2.
* [models](https://github.com/RobertoCorti/Bayesian-Statistics/tree/main/project/models) fitted models for the Serie A seasons 1991-92 and 2007-08.

* [plots](https://github.com/RobertoCorti/Bayesian-Statistics/tree/main/project/plots): list of saved plots regarding exploratory data analysis and posterior inference.
* [simulations](https://github.com/RobertoCorti/Bayesian-Statistics/tree/main/project/simulations): in-sample repetition generated by `rstan` of the home and away goals from the posterior predictive distribution.

### Who do I talk to?

* Roberto Corti





